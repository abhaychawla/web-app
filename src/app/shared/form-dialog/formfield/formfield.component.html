<div [formGroup]="form" fxFlexFill>

  <mat-form-field fxFlexFill>

    <mat-label>{{ formfield.label }}</mat-label>

    <div [ngSwitch]="formfield.controlType">

      <input *ngSwitchCase="'input'" [type]="formfield.type" matInput [formControlName]="formfield.controlName" [required]="formfield.required">

      <mat-select *ngSwitchCase="'select'" [formControlName]="formfield.controlName" [required]="formfield.required">
        <mat-option *ngFor="let option of formfield.options.data" [value]="option[formfield.options.value]">
          {{ option[formfield.options.label] }}
        </mat-option>
      </mat-select>

    </div>

    <mat-error *ngIf="form.controls[formfield.controlName].hasError('required')">
      {{ formfield.label }} is <strong>required</strong>
    </mat-error>

  </mat-form-field>

</div>
